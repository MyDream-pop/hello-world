import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;

public class sign {
    JFrame jf=new JFrame("登录窗口");
    private JLabel num=new JLabel("账号");
    private JLabel pass=new JLabel("密码");

    public void init(){

    JTextField text1=new JTextField(10);
    JPasswordField text2=new JPasswordField(10);


    JButton n1=new JButton(new AbstractAction("确定") {
        @Override
        public void actionPerformed(ActionEvent e) {
            String username=text1.getText().trim();//输入账号密码
            String password=new String(text2.getPassword()).trim();

            if("root".equals(username)&&"root".equals(password)) {//判断账号密码是否正确
                jf.dispose();
                JOptionPane.showMessageDialog(jf, "登录成功");
                new dining().inkt();
            }
            else{//输入错误，清空文本框
                JOptionPane.showMessageDialog(jf,"账号或密码错误，请重新输入");
                text1.setText("");
                text2.setText("");
            }
        }
    });

    JButton n2=new JButton(new AbstractAction("注册") {
        @Override
        public void actionPerformed(ActionEvent e) {
            register();
        }
    });

    JButton n3=new JButton(new AbstractAction("退出") {
        @Override
        public void actionPerformed(ActionEvent e) {
            System.exit(0);
        }
    });

    //p1放输入账号密码的文本框
    JPanel p1=new JPanel();
    p1.add(num);
    p1.add(text1);
    p1.add(pass);
    p1.add(text2);

    //p2放所有的按钮
    JPanel p2=new JPanel();
    p2.add(n1);
    p2.add(n2);
    p2.add(n3);

    jf.add(p1,BorderLayout.CENTER);
    jf.add(p2,BorderLayout.SOUTH);

    jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    jf.pack();
    jf.setVisible(true);
    }

    public void register(){
        JFrame reg=new JFrame("注册账号");
        JLabel num1=new JLabel("要注册的新账号:");
        JLabel pass1=new JLabel("要注册的新密码:");
        JTextField number=new JTextField(8);
        JTextField password=new JTextField(8);
        JButton right=new JButton(new AbstractAction("确定注册") {
            @Override
            public void actionPerformed(ActionEvent e) {
                reg.dispose();
                JOptionPane.showMessageDialog(reg,"注册成功");
                //将用户注册成功的账号密码存入数据库

            }
        });
        JButton no=new JButton(new AbstractAction("取消注册") {
            @Override
            public void actionPerformed(ActionEvent e) {
                reg.dispose();
            }
        });
        JPanel p3=new JPanel();
        p3.add(right);
        p3.add(no);
        JPanel p4=new JPanel();
        p4.add(num1);
        p4.add(number);
        p4.add(pass1);
        p4.add(password);
        reg.add(p4,BorderLayout.CENTER);
        reg.add(p3,BorderLayout.SOUTH);
        reg.pack();
        reg.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        reg.setVisible(true);
    }
    public static void main(String[] args){
        new sign().init();
    }
}


    class dining {//点餐系统的界面
        JFrame jFrame = new JFrame("出云阁点餐系统");
        JMenuBar jMenuBar = new JMenuBar();
        JMenu menu = new JMenu("查看菜单");
        JMenuItem order = new JMenuItem(new AbstractAction("点餐") {
            @Override
            public void actionPerformed(ActionEvent e) {
                JLabel food1 = new JLabel("红烧肉");
                JTextField foodonenum = new JTextField(2);
                JButton foodone = new JButton(new AbstractAction("", new ImageIcon(".idea\\加号1.jpg")) {
                    @Override
                    public void actionPerformed(ActionEvent e) {
                        String result = JOptionPane.showInputDialog(jFrame, "请输入您要选择的餐品数量", "输入框", JOptionPane.INFORMATION_MESSAGE);
                        foodonenum.setText(result);
                    }
                });
                JPanel p5 = new JPanel();
                p5.add(food1);
                p5.add(foodone);
                p5.add(foodonenum);
                jFrame.add(p5);
            }
        });
        public void inkt() {

            menu.add(order);
            jMenuBar.add(menu);

            jFrame.setJMenuBar(jMenuBar);
            jFrame.setBounds(0, 0, 300, 200);
            jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
            jFrame.setVisible(true);
        }
    }
